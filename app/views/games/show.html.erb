<p id="notice"><%= notice %></p>

<p>
  <b>Name:</b>
  <%= @game.name %>
</p>

<p>
  <b>Player 1:</b>
  <%= @game.player1.try(:name) %>
</p>

<p>
  <b>Player 2:</b>
  <%= @game.player2.try(:name) %>
</p>

<%= @game.whose_turn.name %>

<div id='game_container'>

  <div id='game_square'>
    <% if @game.square_is_occupied?(0) %>
    <%= @game.moves_made_array[0] %>
    <% else %>
    <% if can? :make_move, @game %> 
    <%= button_to 'move here', make_move_game_path(@game, 0) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(1) %>
    <%= @game.moves_made_array[1] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 1) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(2) %>
    <%= @game.moves_made_array[2] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 2) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(3) %>
    <%= @game.moves_made_array[3] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 3) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(4) %>
    <%= @game.moves_made_array[4] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 4) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(5) %>
    <%= @game.moves_made_array[5] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 5) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(6) %>
    <%= @game.moves_made_array[6] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 6) %>
    <% end %>
    <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(7) %>
    <%= @game.moves_made_array[7] %>
    <% else %>
    <% if can? :make_move, @game %>
     <%= button_to 'move here', make_move_game_path(@game, 7) %>
     <% end %>
     <% end %>
  </div>
  <div id='game_square'>
    <% if @game.square_is_occupied?(8) %>
    <%= @game.moves_made_array[8] %>
    <% else %>
    <% if can? :make_move, @game %>
    <%= button_to 'move here', make_move_game_path(@game, 8) %>
    <% end %>
    <% end %>
  </div>

</div>


<%= link_to 'Edit', edit_game_path(@game) %> |
<%= link_to 'Back', games_path %>
